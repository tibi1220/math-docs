% TeX format requirement
\NeedsTeXFormat{LaTeX2e}

% Package name [\usepackage{math-math}]
\ProvidesPackage{math-math}

% Provided packages
\RequirePackage{amsmath}
\RequirePackage{unicode-math}
\RequirePackage{icomma}
\RequirePackage{derivative}
\RequirePackage{array}
\RequirePackage{xcolor}
\RequirePackage{colortbl}
\RequirePackage{xfrac}

% Provided document commands

% Imaginary unit
\newcommand\iu{\mathbf{i}}

% Null vector
\newcommand\nvec{\text{\textbf{\textit{0}}}}

% Identity matrix
\newcommand\imat{{\mathbb{E}}}

% Null matrix
\newcommand\nmat{{\mathbb{O}}}

% Regular vector
\newcommand{\rvec}[1]{\mathbfit{#1}}

% Unit vector
\newcommand{\uvec}[1]{\widehat{\mathbfit{#1}}}

% Regular matrix
\newcommand{\rmat}[1]{\mathbf{#1}}

% Bracket array matrix [1=number of cols] [2=col width]
\newcolumntype{x}[1]{>{\centering\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{X}[1]{>{$}x{#1}<{$}}
\newenvironment{bamatrix}[2]{\left[\begin{array}{*{#1}{X{#2}}}}{\end{array}\right]}

% Own operators
\let\dim\relax
\DeclareMathOperator{\dim}{dim}
\DeclareMathOperator{\rg}{rg}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\defect}{def}
\DeclareMathOperator{\sgn}{sgn}

\let\grad\relax
\let\div\relax
\DeclareMathOperator{\rot}{rot}
\DeclareMathOperator{\Div}{div}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\tr}{tr}

\DeclareMathOperator\arccot{arccot}
\DeclareMathOperator\arsinh{arsinh}
\DeclareMathOperator\arcosh{arcosh}
\DeclareMathOperator\artanh{artanh}
\DeclareMathOperator\arcoth{arcoth}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}

% Renaming
\let\cross\times

% Set notation big
\newcommand{\bigset}[2]{\Big\{\; #1 \;\Big|\; #2 \;\Big\}}

% Scalar product and norm
\newcommand{\scalar}[2]{< #1 \, ; \, #2 >}
\newcommand{\norma}[1]{\left|\left| #1 \right|\right|}

% Transpose and differential operator
\newcommand{\transpose}{\mathsf{T}}
\newcommand{\Diff}{\mathbf{D}}

% Definition environment
\RequirePackage{mdframed}
\newenvironment{myframe}{%
  \begin{mdframed}[%
      backgroundcolor=yellow-base!5,%
      linecolor=blue-base,%
      linewidth=1mm,%
      topline=false,%
      rightline=false,%
      bottomline=false,%
      skipabove=0.25em,%
      skipbelow=0.25em,%
    ]}{\end{mdframed}}

\newcounter{definition}
\newenvironment{definition}[1][\@nil]{%
  \refstepcounter{definition}%
  \begin{myframe}\textbf{Definíció \thedefinition}%
    \def\tmp{#1}%
    \ifx\tmp\@nnil\else%
      \hspace{.5em}[\;#1\;]
    \fi\par%
    }{\end{myframe}}
\newcounter{note}
\newenvironment{note}[1][\@nil]{%
  \refstepcounter{note}%
  \begin{myframe}\textbf{Megjegyzés \thenote}%
    \def\tmp{#1}%
    \ifx\tmp\@nnil\else%
      \hspace{.5em}[\;#1\;]
    \fi\par%
    }{\end{myframe}}
\newcounter{statement}
\newenvironment{statement}[1][\@nil]{%
  \refstepcounter{statement}%
  \begin{myframe}\textbf{Állítás \thestatement}%
    \def\tmp{#1}%
    \ifx\tmp\@nnil\else%
      \hspace{.5em}[\;#1\;]
    \fi\par%
    }{\end{myframe}}
\newcounter{theorem}
\newenvironment{theorem}[1][\@nil]{%
  \refstepcounter{theorem}%
  \begin{myframe}\textbf{Tétel \thetheorem}%
    \def\tmp{#1}%
    \ifx\tmp\@nnil\else%
      \hspace{.5em}[\;#1\;]
    \fi\par%
    }{\end{myframe}}
\newcounter{identities}
\newenvironment{identities}[1][\@nil]{%
  \refstepcounter{identities}%
  \begin{myframe}\textbf{Azonosságok \theidentities}%
    \def\tmp{#1}%
    \ifx\tmp\@nnil\else%
      \hspace{.5em}[\;#1\;]
    \fi\par%
    }{\end{myframe}}
